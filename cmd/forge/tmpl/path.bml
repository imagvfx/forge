<!doctype html>
<html> [
	<head> []
	<body> [
		<h1> [
			{{if ne $.Entry.Path "/"}}<a href="{{$.Entry.Dir}}">[&#60;-]{{end}}
			{{$.Entry.Path}} ({{$.Entry.Type}})
		]
		<h4> [
			Sub Entry
			{{if $.SubEntryTypes}}
			<form action="/api/add-entry" method="post"> [
				<div> [
					<input name="parent" type="hidden" value="{{$.Entry.Path}}"> []
					<input name="path" type="text" value=""> []
					<select name="type" value=""> [
					{{range $t := $.SubEntryTypes}}
						<option value={{$t}}> [{{$t}}]
					{{end}}
					]
					<input readonly name="back_to_referer" type="hidden" value="1"> []
					<button type="submit"> [Add]
				]
			]
			{{end}}
		]
		<div> [
		{{range $.SubEntries}}
			<a href="{{.Path}}"> [{{.Name}}]
		{{end}}
		]
		<h4> [
			Property
			<form action="/api/add-property" method="post"> [
				<div> [
					<input readonly name="path" type="hidden" value="{{$.Entry.Path}}"> []
					<input name="name" type="text" value="" placeholder="name"> []
					<input name="type" type="text" value="" placeholder="type"> []
					<input name="value" type="text" value="" placeholder="value"> []
					<input readonly name="back_to_referer" type="hidden" value="1"> []
					<button type="submit"> [Add]
				]
			]
		]
		<div> [
		{{range $.Properties}}
			<form action="/api/set-property" method="post"> [
				<div> [
					<input readonly name="path" type="hidden" value="{{$.Entry.Path}}"> []
					<input readonly name="name" type="text" value="{{.Name}}" placeholder="name"> []
					<input readonly name="type" type="text" value="{{.Type}}" placeholder="type"> []
					<input name="value" type="text" value="{{.Value}}" placeholder="value"> []
					<input readonly name="back_to_referer" type="hidden" value="1"> []
					{{if ne .Entry.Path $.Entry.Path}}inherited from '{{.Entry.Path}}'{{end}}
					<button type="submit"> [Set]
				]
			]
		{{end}}
		]
		<h4> [
			Environ
			<form action="/api/add-environ" method="post"> [
				<div> [
					<input readonly name="path" type="hidden" value="{{$.Entry.Path}}"> []
					<input name="name" type="text" value="" placeholder="name"> []
					<input name="type" type="text" value="" placeholder="type"> []
					<input name="value" type="text" value="" placeholder="value"> []
					<input readonly name="back_to_referer" type="hidden" value="1"> []
					<button type="submit"> [Add]
				]
			]
		]
		<div> [
		{{range $env := $.Environs}}
			{{$inherit := ne $env.Entry.Path $.Entry.Path}}
			<form action="/api/{{if $inherit}}add{{else}}set{{end}}-environ" method="post"> [
				<div> [
					<input readonly name="path" type="hidden" value="{{$.Entry.Path}}"> []
					<input readonly name="name" type="text" value="{{$env.Name}}" placeholder="name"> []
					<input readonly name="type" type="text" value="{{.Type}}" placeholder="type"> []
					<input name="value" type="text" value="{{$env.Value}}" placeholder="value"> []
					<input readonly name="back_to_referer" type="hidden" value="1"> []
					{{if $inherit}}
						inherited from '{{$env.Entry.Path}}' <button type="submit"> [Overwrite]
					{{else}}
						<button type="submit"> [Set]
					{{end}}
				]
			]
		{{end}}
		]
		<h4> [
			Log
		]
		<div> [
		{{range $log := $.Logs}}
			<div> [{{$log}}]
		{{end}}
		]
	]
]

